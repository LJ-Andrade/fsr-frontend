<div class="login-container">
    <p-toast></p-toast>
    
    <div class="login-form">
        <div class="text-center mb-4">
            <h2>Iniciar Sesión</h2>
            <p>Ingresa tus credenciales para continuar</p>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="form-content">
            <div class="form-field">
                <label for="user">Usuario</label>
                <input 
                    id="user" 
                    type="text" 
                    pInputText 
                    formControlName="user" 
                    placeholder="Ingresa tu usuario"
                    [ngClass]="{'ng-invalid ng-dirty': loginForm.get('user')?.invalid && loginForm.get('user')?.touched}"
                >
                <small class="error-message" *ngIf="loginForm.get('user')?.invalid && loginForm.get('user')?.touched">
                    El usuario es requerido
                </small>
            </div>

            <div class="form-field">
                <label for="password">Contraseña</label>
                <p-password 
                    id="password" 
                    formControlName="password" 
                    [feedback]="false"
                    [toggleMask]="true"
                    placeholder="Ingresa tu contraseña"
                    [ngClass]="{'ng-invalid ng-dirty': loginForm.get('password')?.invalid && loginForm.get('password')?.touched}"
                ></p-password>
                <small class="error-message" *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched">
                    La contraseña debe tener al menos 8 caracteres
                </small>
            </div>

            <div class="forgot-password">
                <a [routerLink]="['/request-password-reset']">¿Olvidaste tu contraseña?</a>
            </div>

            <p-button 
                type="submit" 
                label="Iniciar Sesión" 
                [loading]="loading"
                styleClass="submit-button"
            ></p-button>
        </form>
    </div>
</div>